-- Read T and F from the input and output the last state whenever an O appears.
-- Thus TFTOFTFO outputs TF.

#attach: lib/bool.pi

+c;c->switch; set_tt,set_ff,value,ready<-c;(
  <-ready;->stdin_read.
  <<stdin__O; +c;c->value; stdout__T,stdout__F->c; ->stdin_read.
  <<stdin__T; +c;c->set_tt; <-c;->stdin_read.
  <<stdin__F; +c;c->set_ff; <-c;->stdin_read.
)