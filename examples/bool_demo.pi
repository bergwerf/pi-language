! Read T and F from the input and output the last state whenever an O appears.
! Thus TFTOFTFO outputs TF.

#attach: lib/bool.pi

! Works with switch and bool.
+c;c->bool; set_tt,set_ff,value<-c;(
  ->stdin_read.
  <-stdin_EOF; ->stdout_0A.
  <<stdin__T; +c;c->set_tt;<-c; ->stdin_read.
  <<stdin__F; +c;c->set_ff;<-c; ->stdin_read.
  <<stdin__O; +tt,ff;(
    +b;b->value;<-b; tt,ff->b.
    <-tt;->stdout__T;<-stdout_write;->stdin_read.
    <-ff;->stdout__F;<-stdout_write;->stdin_read.
  )
)